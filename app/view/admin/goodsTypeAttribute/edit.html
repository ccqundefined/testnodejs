<%- include ../public/page_header.html %>

<div class="panel panel-default">
    <div class="panel-heading">
修改商品属性
</div>
    <div class="panel-body">
        <div class="table-responsive input-form">
            <form action="/admin/goodsTypeAttribute/doEdit" method="post">
                <input type='hidden' name="_csrf" value="<%=csrf%>">
                <input type='hidden' name="id" value="<%=list._id%>">
                <ul>
                    <li>  属性名称: <input type="text" name="title" value="<%=list.title%>"/></li>
                    <li>
                所属类型:
                <select name="cate_id" id="cate_id">
                    <%for(let i = 0; i < goodsType.length; i++){%>
                        <option value="<%=goodsType[i]._id%>" <%if(goodsType[i]._id.toString() == list.cate_id.toString()){%>selected<%}%>><%=goodsType[i].title%></option>
                    <%}%>
                </select>
                    </li>
                    <li>排序:<input type="text" name="sort" value="<%=list.sort%>"/></li>
                    <li>
                        录入方式:
                        <input type="radio" name="attr_type" value="1" <%if(list.attr_type==1){%>checked<%}%> id="text"> <label for="text">单行文本框</label>
                        <input type="radio" name="attr_type" value="2" <%if(list.attr_type==2){%>checked<%}%> id="textarea"> <label for="textarea">多行文本框</label>
                        <input type="radio" name="attr_type" value="3" <%if(list.attr_type==3){%>checked<%}%> id="select"> <label for="select">从下面的列表中选择(一行代表一个可选值)</label>
                    </li>
                    <li>
                        可选值列表:
                        <textarea name="attr_value" id="attr_value" cols="60" rows="8" disabled="true"><%=list.attr_value%></textarea>
                    </li>
                    <li>
                        <br/>
                        <button type="submit" class="btn btn-default">提交</button>
                    </li>

                </ul>

            </form>
        </div>
    </div>

</div>

    </body>
    <script>
        $(function() {
            if($("input[value='3']").attr('checked')=='checked'){
                $("#attr_value").attr('disabled',false)
            }
            $("input[name='attr_type']").on('change',function() {
                console.log($(this).val());
                if($(this).val() == '3') {
                    $("#attr_value").attr('disabled',false)
                }else{
                    $("#attr_value").attr('disabled',true)
                }
            })
        })
    </script>
</html>